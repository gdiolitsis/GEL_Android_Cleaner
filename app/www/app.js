function log(...a){
  const el = document.getElementById("log");
  el.textContent += a.map(x => (typeof x==='string'?x:JSON.stringify(x))).join(" ") + "\n";
}

document.addEventListener("deviceready", () => {
  log("‚úÖ Device ready");

  byId("btnFullAccess").onclick = () => gel.requestAllFiles(
    r => log("üìÇ Full access:", r),
    e => log("‚ùå Full access error:", e)
  );

  byId("btnCpu").onclick = () => gel.cpuInfo(
    r => log("üî• CPU:", r),
    e => log("‚ùå CPU error:", e)
  );

  byId("btnRam").onclick = () => gel.cleanRAM(
    r => log("‚ö° RAM cleaned:", r),
    e => log("‚ùå RAM error:", e)
  );

  byId("btnCleanSafe").onclick = () => gel.clean("safe",
    r => log("üßπ Safe clean:", r),
    e => log("‚ùå Safe clean error:", e)
  );

  byId("btnCleanAggro").onclick = () => gel.clean("aggressive",
    r => log("üß® Aggressive clean:", r),
    e => log("‚ùå Aggressive clean error:", e)
  );
});

function byId(id){ return document.getElementById(id); }
